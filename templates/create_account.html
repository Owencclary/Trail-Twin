{% extends 'base.html' %}

{% block content %}

<!------------------- Create Account ------------------------->
<div id="create-account-container" class="container" style="width: 90vh; height: 100vh; margin: 0 auto; position: relative; padding: 100px;">


      <!-- Flash Message -->
    {% for msg in get_flashed_messages() %}
      <div class="flash-msg alert alert-light" id="flash-overlay" role="alert">
        {{ msg }}
      </div>
    {% endfor %}   

    <h2> Create Account </h2>

    <form class="row g-3" action="/register" method="POST"  enctype="multipart/form-data">

      <!-- First name input -->
      <div class="col-md-4">
        <label for="validationDefault01" class="form-label">First name</label>
        <input type="text" class="form-control" name="first_name" id="validationDefault01"  required>
      </div>

      <!-- Last name input -->
      <div class="col-md-4">
        <label for="validationDefault02" class="form-label">Last name</label>
        <input type="text" class="form-control" name="last_name" id="validationDefault02"  required>
      </div>

      <!-- Username input -->
      <div class="col-md-4">
        <label for="validationDefaultUsername" class="form-label">Username</label>
        <div class="input-group">
          <span class="input-group-text" id="inputGroupPrepend2">@</span>
          <input type="text" class="form-control" name="username" id="validationDefaultUsername" aria-describedby="inputGroupPrepend2" required>
        </div>
      </div>

      <!-- Email Input -->
      <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Email address</label>
        <input type="email" name="email" class="form-control" id="exampleFormControlInput1" placeholder="name@example.com" required>
      </div>

      <!-- Password Input -->
      <div class="col-md-4">
        <label for="validationDefault01" class="form-label">Password</label>
        <input type="password" class="form-control" name="password" placeholder="More than 8 characters" id="validationDefault01" required>
      </div>

      <!-- Re enter password input -->
      <div class="col-md-4">
        <label for="validationDefault01" class="form-label">Confirm password</label>
        <input type="password" class="form-control" name="confirm_password" id="validationDefault02" required>
      </div>
        
      <!-- Gender Input -->
      <div class="input-group mb-3">
        <label class="input-group-text" for="inputGroupSelect01">Gender</label required>
        <select class="form-select" name="gender" id="inputGroupSelect01">
          <option selected>Choose...</option>
          <option value="male"> Male </option>
          <option value="female"> Female </option>
          <option value="other"> Other </option>
        </select>
      </div>

      <!-- Date of birth input -->
      <div class="col-md-6">
        <label for="validationDefault03" class="form-label">Date of Birth</label>
        <input type="date" class="form-control" name="dob" id="validationDefault03" required>
      </div>

      <!-- Address input -->
      <div class="col-md-6">
        <label for="validationDefault03" class="form-label">Address</label>
        <input type="text" class="form-control" name="address" id="validationDefault03" required>
      </div>

     <!-- Profile photo input -->
    <div class="mb-3">
      <label for="profile-photo" class="form-label">Profile Photo</label>
      <input class="form-control" name="profile_photo" type="file" id="profile-photo" required>
    </div>

    <!-- Activity photo input -->
    <div class="mb-3">
      <label for="activity-photo" class="form-label">Activity Photo</label>
      <input class="form-control" name="activity_photo" type="file" id="activity-photo" required>
    </div>

      <!-- Biography input -->
      <div class="form-floating">
        <textarea class="form-control" name="bio" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px"></textarea required>
        <label for="floatingTextarea2">Biography</label>
      </div>

      <!-- Agree to terms and condition checkbox -->
      <div class="col-12">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="invalidCheck2" required>
          <label class="form-check-label" for="invalidCheck2">
            Agree to terms and conditions
          </label>
        </div>
      </div>

      <!-- Submit button -->
      <di class="col-12">
          <button class="btn btn-primary" type="submit">Submit form</button>
      </di>
    </form>
</div>  

<script>
  document.addEventListener('DOMContentLoaded', function() {
  const flashOverlay = document.getElementById('flash-overlay');

  // Check if there are flash messages
  const hasFlashMessages = document.querySelector('.flash-msg') !== null;

  // Show the flash overlay only if there are flash messages
  if (flashOverlay && hasFlashMessages) {
    flashOverlay.style.display = 'block';

    // Automatically hide the flash overlay after 5 seconds (adjust as needed)
    setTimeout(function() {
      flashOverlay.style.display = 'none';
    }, 5000); // 5000 milliseconds = 5 seconds
  }
});
</script>

{% endblock %}